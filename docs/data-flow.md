# Data Flow

This document describes the data flow of the application.

## Table of Content

* [Visual Flow Chart](#visual-flow-chart): Visual Flow Chart.

## Visual Flow Chart

```mermaid
flowchart LR;

subgraph KAFKA_USER_GENERATED_ORDER_DATA_TOPIC[User Generated Order Data]
KAFKA_USER_GENERATED_ORDER_DATA_TOPIC_PARTITION_1[Partition 1] -.- KAFKA_USER_GENERATED_ORDER_DATA_TOPIC_PARTITION_N[Partition.. N]
end

subgraph KAFKA_REFERENCE_DATA_TOPIC[Reference Data]
KAFKA_REFERENCE_DATA_TOPIC_PARTITION_1[Partition 1] -.- KAFKA_REFERENCE_DATA_TOPIC_PARTITION_N[Partition... N]
end

KAFKA_USER_GENERATED_ORDER_DATA_TOPIC -->|kafka subscription|TRADING_ENGINE
KAFKA_REFERENCE_DATA_TOPIC -->|kafka subscription|TRADING_ENGINE
subgraph TRADING_ENGINE[Trading Engine]
end

TRADING_ENGINE -->|Events|MATCHING_ENGINE
subgraph MATCHING_ENGINE[Matching Engine]
MATCHING_ENGINE_PARTITION_1[Partition 1] -.- MATCHING_ENGINE_PARTITION_N[Partition... N]
end

MATCHING_ENGINE --> KAFKA_AUDIT_TRAIL
subgraph KAFKA_AUDIT_TRAIL[Audit Trail]
KAFKA_AUDIT_TRAIL_PARTITION_1[Partition 1] -.- KAFKA_AUDIT_TRAIL_PARTITION_N[Partition... N]
end

MATCHING_ENGINE --> KAFKA_TOP_OF_BOOK
subgraph KAFKA_TOP_OF_BOOK[Top of Book]
KAFKA_TOP_OF_BOOK_PARTITION_1[Partition 1] -.- KAFKA_TOP_OF_BOOK_PARTITION_N[Partition... N]
end

MATCHING_ENGINE --> KAFKA_TRADES
subgraph KAFKA_TRADES[Trades]
KAFKA_TRADES_PARTITION_1[Partition 1] -.- KAFKA_TRADES_PARTITION_N[Partition... N]
end

KAFKA_AUDIT_TRAIL --> KAFKA_PRODUCER
KAFKA_TRADES --> KAFKA_PRODUCER
KAFKA_TOP_OF_BOOK --> KAFKA_PRODUCER
subgraph KAFKA_PRODUCER[Kafka Producer]
KAFKA_PRODUCER_PARTITION_1[Partition 1] -.- KAFKA_PRODUCER_PARTITION_N[Partition... N]
end
```
